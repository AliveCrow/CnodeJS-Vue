(function(t){function e(e){for(var a,r,c=e[0],i=e[1],u=e[2],l=0,f=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);d&&d(e);while(f.length)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o={app:0},s=[];function c(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-2cfa53a2":"b1ba837e","chunk-31bbfa88":"e9cd2a51"}[t]+".js"}function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n={"chunk-2cfa53a2":1,"chunk-31bbfa88":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-2cfa53a2":"5370deac","chunk-31bbfa88":"d85e9211"}[t]+".css",o=i.p+a,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var u=s[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===o))return e()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){u=f[c],l=u.getAttribute("data-href");if(l===a||l===o)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var a=e&&e.target&&e.target.src||o,s=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete r[t],d.parentNode.removeChild(d),n(s)},d.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){r[t]=0})));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,n){a=o[t]=[e,n]}));e.push(a[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=c(t);var f=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(d);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",f.name="ChunkLoadError",f.type=a,f.request=r,n[1](f)}o[t]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var f=0;f<u.length;f++)e(u[f]);var d=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"08c0":function(t,e,n){"use strict";n("79ab")},"0b29":function(t,e,n){"use strict";n("a57b")},"0b92":function(t,e,n){"use strict";n("c341")},"0fac":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return c}));var a=n("5530"),r=n("365c"),o=function(t){return Object(r["a"])("/topics","get",Object(a["a"])({limit:20},t))},s=function(t,e){return Object(r["a"])("/topic/".concat(t),"get",{params:e})},c=function(t){return Object(r["a"])("topic_collect/".concat(t),"get")}},"22b8":function(t,e,n){},2628:function(t,e,n){},"2e10":function(t,e,n){"use strict";n("22b8")},"2e90":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"homepage",staticClass:"list"},t._l(t.ListData,(function(e){return n("at-card",{staticClass:"card",staticStyle:{width:"100%"},attrs:{id:e.id,"no-hover":!0,bordered:!1},nativeOn:{click:function(n){return t.clickCard(e)}}},[n("div",{staticClass:"list-item"},[t.avatar?n("img",{attrs:{title:e.author.loginname,src:e.author.avatar_url,alt:""}}):t._e(),n("div",[t.badge?n("at-badge",{attrs:{value:e.reply_count}}):t._e()],1),n("at-tag",{directives:[{name:"show",rawName:"v-show",value:e.tab,expression:"list.tab"}],style:"background: "+t.tabsColorMap[e.tab]+";border-color:"+t.tabsColorMap[e.tab],attrs:{color:"info"}},[t._v(" "+t._s(t.tabsMapReserve[e.tab])+" ")]),n("p",[t._v(t._s(e.title))]),n("span",{staticClass:"list-item-date"},[t._v(t._s(t.$dayjs(e.create_at).format("YYYY-MM-DD")))])],1)])})),1)},r=[],o={name:"List",props:{ListData:{type:Array,default:[]},avatar:{type:Boolean,default:!0},badge:{type:Boolean,default:!0},tabsMapReserve:{type:Object,default:function(){return{good:"精华",share:"分享",ask:"问答",job:"招聘"}},required:!1},tabsColorMap:{type:Object,default:function(){return{good:"#6190E8",share:"#FFC82C",ask:"#BFBFBF",job:"#2C405A"}},required:!1}},methods:{clickCard:function(t){this.$emit("CardClick",t)}}},s=o,c=(n("2e10"),n("2877")),i=Object(c["a"])(s,a,r,!1,null,"1af8a930",null);e["a"]=i.exports},"365c":function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var a=n("1da1"),r=(n("96cf"),n("d3b7"),n("ac1f"),n("5319"),n("bc3a")),o=n.n(r),s=n("8c4f"),c=n("44e4"),i={baseURL:"https://cnodejs.org/api/v1",timeout:5e3,headers:{post:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8;multipart/form-data"}}};i.baseURL="https://cnodejs.org/api/v1";var u=o.a.create(i);function l(t,e){return new Promise((function(n,a){u.get(t,{params:e}).then((function(t){n(t.data)})).catch((function(t){a(t)}))}))}function f(t,e){return new Promise((function(n,a){u.post(t,e).then((function(t){n(t.data)})).catch((function(t){a(t)}))}))}u.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),u.interceptors.response.use((function(t){return 200===t.status?Promise.resolve(t):Promise.reject(t)}),(function(t){if(t.response.status){switch(t.response.status){case 401:s["a"].replace({path:"/login",query:{redirect:s["a"].currentRoute.fullPath}});break;case 403:c["Message"].error("登录过期，请重新登录");break;case 404:c["Message"].error("请求不存在");break;default:c["Message"].error(t.response.data.message)}return Promise.reject(t.response)}}));var d={get:l,post:f},p=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n,a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d[n](e,a);case 3:r=t.sent,t.next=9;break;case 6:return t.prev=6,t.t0=t["catch"](0),t.abrupt("return",t.t0);case 9:return t.abrupt("return",r);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n,a){return t.apply(this,arguments)}}()},"3e8e":function(t,e,n){},"4f19":function(t,e,n){"use strict";n("981b")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app "}},[n("Container",[n("Left",[n("router-view")],1),n("Right",["second"===t.$route.meta.level?n("BackBtn",{attrs:{inline:!1},on:{clickHandle:t.clickHandle}},[t._v("返回首页")]):t._e(),n("Logo"),t._l(t.$store.state.commentsList,(function(e){return t.$route.meta.comment?n("Comment",{attrs:{comment:e}}):t._e()})),t.$route.meta.userInfo?n("UserInfo"):t._e()],2)],1)],1)},o=[],s=(n("ac1f"),n("5319"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row at-row"},[t._t("default")],2)}),c=[],i={name:"Container"},u=i,l=n("2877"),f=Object(l["a"])(u,s,c,!1,null,"1b4b85fe",null),d=f.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-xs-24 col-lg-18 col-sm-24 layout-left",staticStyle:{"overflow-x":"hidden"}},[t._t("default")],2)},m=[],h={name:"Left"},b=h,g=(n("4f19"),Object(l["a"])(b,p,m,!1,null,"120ca22a",null)),v=g.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-lg-6 layout-right",staticStyle:{"background-color":"#343434"}},[t._t("default")],2)},y=[],C={name:"Right"},j=C,k=(n("0b92"),Object(l["a"])(j,_,y,!1,null,"1e119cbe",null)),$=k.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("at-button",{class:"back-btn "+[t.inline?"":"block"],attrs:{type:t.type},on:{click:t.clickHandle}},[t._t("default",(function(){return[t._v("按钮文字")]}))],2)},O=[],L={name:"BackBtn",props:{type:{type:String,default:""},inline:{type:Boolean,default:!0}},methods:{clickHandle:function(){this.$emit("clickHandle")}}},x=L,E=(n("aead"),Object(l["a"])(x,w,O,!1,null,"4ed2e72a",null)),I=E.exports,S=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},B=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo"},[a("img",{staticStyle:{margin:"40px"},attrs:{src:n("d686"),alt:""}})])}],M={name:"Logo",props:{}},P=M,D=Object(l["a"])(P,S,B,!1,null,"f041eaf4",null),T=D.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("at-collapse",{ref:"at-collapse",staticClass:"collapse",attrs:{accordion:t.accordion,simple:t.simple,value:0},on:{"on-change":t.collapseChanged}},t._l(t.list,(function(e){return n("at-collapse-item",{staticClass:"collapse-item",attrs:{title:e.title}},[t._t("default",null,{item:e})],2)})),1)},R=[],Y={name:"Collapse",props:{list:{type:Array,default:function(){return[]}},accordion:{type:Boolean,default:!1},simple:{type:Boolean,default:!1}},mounted:function(){var t=this;this.$on("Ctoggle",(function(){console.log("22222"),t.$refs["at-collapse"].toggle}))},methods:{collapseChanged:function(t){this.$emit("onChange",t)}}},U=Y,A=(n("c4f1"),Object(l["a"])(U,H,R,!1,null,"8109133e",null)),q=A.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._t("default")],2)},z=[],N={name:"CollapseItem"},J=N,G=Object(l["a"])(J,F,z,!1,null,"68edba1a",null),K=G.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment"},[n("div",{staticClass:"comment-title"},[n("img",{attrs:{src:t.comment.author?t.comment.author.avatar_url:"",alt:""}}),n("a",{staticClass:"loginname",attrs:{href:"/#/user/"+t.comment.author.loginname}},[t._v(t._s(t.comment.author?t.comment.author.loginname:""))]),n("span",{staticStyle:{"font-size":"0.8rem"}},[t._v(t._s(t.$dayjs(t.comment.create_at).format("YYYY-MM-DD")))]),n("span",[t._v("点赞("+t._s(t.comment.ups?t.comment.ups.length:"")+")")])]),n("div",{staticClass:"comment-content",domProps:{innerHTML:t._s(t.comment.content)}})])},V=[],W={name:"Comment",props:{comment:{type:Object,default:function(){return{author:{avatar_url:"",loginname:""},ups:[]}}}},created:function(){}},X=W,Z=(n("0b29"),Object(l["a"])(X,Q,V,!1,null,"605806e2",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"aside-user"},[n("img",{attrs:{src:t.$store.state.userInfo.avatar_url,alt:"",width:"90px"}}),n("span",[t._v(t._s(t.$store.state.userInfo.loginname))]),n("span",[t._v("积分:"+t._s(t.$store.state.userInfo.score))]),n("span",[t._v("GitHub: "),n("a",{attrs:{href:"https://github.com/"+t.$store.state.userInfo.githubUsername,target:"_blank"}},[t._v(t._s(t.$store.state.userInfo.loginname))])]),n("span",[t._v("注册时间:"+t._s(t.$dayjs(t.$store.state.userInfo.create_at).format("YYYY-MM-DD HH:mm:ss")))])])},nt=[],at={name:"UserInfo",data:function(){return{userInfo:{}}},created:function(){this.userInfo=this.$store.state.userInfo}},rt=at,ot=(n("70a8"),Object(l["a"])(rt,et,nt,!1,null,"b187dc1a",null)),st=ot.exports,ct={components:{Left:v,Right:$,Container:d,BackBtn:I,Logo:T,Collapse:q,CollapseItem:K,Comment:tt,UserInfo:st},data:function(){return{list:[{title:"关于",content:{author:"liu-wb"}}]}},methods:{onChange:function(){console.log(this)},clickHandle:function(){this.$router.replace("/")}}},it=ct,ut=(n("5c0b"),Object(l["a"])(it,r,o,!1,null,null,null)),lt=ut.exports,ft=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f")),dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"homepage",staticClass:"homepage"},[n("div",{staticStyle:{"overflow-y":"hidden","text-align":"center"}},[n("at-tabs",{attrs:{animated:!1},on:{"on-change":t.tabChanged}},t._l(t.tabs,(function(e){return n("at-tab-pane",{staticStyle:{"font-size":"1rem"},attrs:{label:e,name:e}},[n("List",{attrs:{badge:!0,ListData:t.ListData},on:{CardClick:t.CardClick}})],1)})),1)],1)])},pt=[],mt=n("1da1"),ht=(n("96cf"),n("b0c0"),n("99af"),n("0fac")),bt={"全部":"","精华":"good","分享":"share","问答":"ask","招聘":"job"},gt=n("2e90"),vt={components:{List:gt["a"]},data:function(){return{ListData:[],loading:!0,tabs:["全部","精华","分享","问答","招聘"],page:1,currentTab:""}},mounted:function(){var t=this;this.$Loading.config({width:6}),this.$refs.homepage.addEventListener("scroll",(function(){return t.listenBottomOut(t.$refs.homepage)}))},methods:{tabChanged:function(t){var e=this;return Object(mt["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.$Loading.start(),e.currentTab=bt[t.name],n.next=4,Object(ht["a"])({tab:bt[t.name],page:e.page});case 4:if(a=n.sent,a.success){n.next=8;break}return e.$Loading.error(),n.abrupt("return");case 8:e.$Loading.finish(),e.ListData=a.data;case 10:case"end":return n.stop()}}),n)})))()},listenBottomOut:function(t){var e=this,n=t.scrollTop,a=t.clientHeight,r=t.scrollHeight;n+a>=r&&(this.$Loading.start(),this.page=this.page+1,Object(ht["a"])({tab:this.currentTab,page:this.page}).then((function(t){e.ListData=e.ListData.concat(t.data),e.$Loading.finish()})).catch((function(t){e.$Loading.error()})))},CardClick:function(t){var e=this,n=this.$refs.homepage;this.$router.push({name:"topicContent",params:{id:t.id}}).then((function(){n.removeEventListener("scroll",(function(){return e.listenBottomOut(n)}))}))}}},_t=vt,yt=(n("d905"),Object(l["a"])(_t,dt,pt,!1,null,"494dc23d",null)),Ct=yt.exports;a["default"].use(ft["a"]);var jt=[{path:"/",name:"Home",component:Ct,meta:{level:"first"}},{path:"/topic/:id",name:"topicContent",component:function(){return n.e("chunk-2cfa53a2").then(n.bind(null,"91d8"))},meta:{level:"second",comment:!0}},{path:"/user/:loginname",name:"UserInfo",component:function(){return n.e("chunk-31bbfa88").then(n.bind(null,"a547"))},meta:{level:"second",userInfo:!0}}],kt=new ft["a"]({mode:"hash",base:"",routes:jt}),$t=kt,wt=n("2f62");a["default"].use(wt["a"]);var Ot=new wt["a"].Store({state:{comment:{},commentsList:[],userInfo:{}},mutations:{setComment:function(t,e){t.comment=e},setConmentsList:function(t,e){t.commentsList=e},setUserInfo:function(t,e){t.userInfo=e}},actions:{},modules:{}}),Lt=n("44e4"),xt=n.n(Lt),Et=(n("c58f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:"title-component "+["large"===t.size?" large":"small"===t.size?"small":""]},[t._t("default")],2)}),It=[],St={name:"CTitle",props:{size:{type:String,default:"default"}}},Bt=St,Mt=(n("58dd"),Object(l["a"])(Bt,Et,It,!1,null,"1062bccf",null)),Pt=Mt.exports,Dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"divider"},[n("div",{class:"divider-text divider-"+t.contentPosition},[t._t("default")],2)])},Tt=[],Ht={name:"Divider",props:{direction:{type:String,default:"horizontal",required:!1},"content-position":{type:String,default:"left",required:!1}}},Rt=Ht,Yt=(n("08c0"),Object(l["a"])(Rt,Dt,Tt,!1,null,"37c7fb46",null)),Ut=Yt.exports,At=(n("3e8e"),n("5a0c")),qt=n.n(At);n("6faf");a["default"].config.productionTip=!1,a["default"].prototype.$dayjs=qt.a,a["default"].use(xt.a),a["default"].component("CTitle",Pt),a["default"].component("Divider",Ut),new a["default"]({router:$t,store:Ot,render:function(t){return t(lt)}}).$mount("#app")},"58dd":function(t,e,n){"use strict";n("2628")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"6faf":function(t,e,n){},"70a8":function(t,e,n){"use strict";n("fea1")},"79ab":function(t,e,n){},"981b":function(t,e,n){},"9c0c":function(t,e,n){},a57b:function(t,e,n){},aead:function(t,e,n){"use strict";n("af5e")},af5e:function(t,e,n){},c341:function(t,e,n){},c4f1:function(t,e,n){"use strict";n("c9bf")},c9bf:function(t,e,n){},ccca:function(t,e,n){},d686:function(t,e,n){t.exports=n.p+"img/cnodejs_light.86f6a7c2.svg"},d905:function(t,e,n){"use strict";n("ccca")},fea1:function(t,e,n){}});
//# sourceMappingURL=app.ca33e119.js.map